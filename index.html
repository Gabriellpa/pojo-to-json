<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>POJO to JSON Converter</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #1e1e2e;
            color: #ffffff;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            padding: 20px;
        }
        h1 {
            color: #00c896;
        }
        .container {
            width: 50%;
            background: #282a36;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.3);
        }
        textarea {
            width: 100%;
            height: 150px;
            padding: 10px;
            border-radius: 4px;
            border: none;
            background: #44475a;
            color: white;
            font-size: 14px;
            resize: none;
        }
        button {
            width: 100%;
            padding: 12px;
            background-color: #00c896;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            transition: background 0.3s ease;
        }
        button:hover {
            background-color: #009f75;
        }
        .result {
            margin-top: 20px;
            padding: 10px;
            background: #191a21;
            border-radius: 4px;
            white-space: pre-wrap;
            word-wrap: break-word;
            font-family: monospace;
            font-size: 14px;
            overflow-x: auto;
            min-height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #888;
        }
    </style>
</head>
<body>
    <h1>POJO to JSON Converter</h1>
    <div class="container">
        <label for="pojoInput">Enter your POJO class:</label>
        <textarea id="pojoInput" placeholder="Enter your POJO class here...">
import java.util.List;
import java.util.Map;

public class User {
    private String username;
    private String email;
}

public class Address {
    private String street;
    private String city;
    private String zipCode;
}

public class Person extends User {
    private String name;
    private List<Address> addresses;
    private boolean isActive;
    private Map<String, String> metadata;
    private Map<String, Address> additionalInfo;
}
        </textarea>
        <button onclick="convertPojoToJson()">Convert to JSON</button>
        <div id="result" class="result">Result of convert here</div>
    </div>
    
    <script>
        // Function to generate default values for primitive types and objects
        function getDefaultValue(type) {
            if (type.startsWith("List<")) {
                const innerType = type.substring(5, type.length - 1);
                return getListDefaultValue(innerType);
            }
            if (type.startsWith("Map<")) {
                const types = type.substring(4, type.length - 1).split(",");
                const keyType = types[0].trim();
                const valueType = types[1].trim();
                return getMapDefaultValue(keyType, valueType);
            }
            switch (type) {
                case 'String': return 'string';
                case 'int': case 'Integer': return 0;
                case 'long': case 'Long': return 0n;
                case 'float': case 'Float': return 0.0;
                case 'double': case 'Double': return 0.0;
                case 'BigDecimal': return "0.0";
                case 'boolean': case 'Boolean': return false;
                case 'Date': return new Date().toISOString();
                default:
                    if (/^[A-Z]/.test(type)) {
                        return generateObjectDefaults(type);
                    }
                    return null;
            }
        }
        function generateObjectDefaults(className) {
            const nestedClassDefaults = {};
            const pojoText = document.getElementById('pojoInput').value.trim();
            const classRegex = new RegExp(`class\\s+${className}\\s*{([\\s\\S]*?)}`, 'g');
            const classMatch = classRegex.exec(pojoText);
            if (classMatch) {
                const fieldRegex = /private\s+([a-zA-Z0-9<>,\s]+)\s+([a-zA-Z0-9]+);/g;
                let fieldMatch;
                while ((fieldMatch = fieldRegex.exec(classMatch[1])) !== null) {
                    const fieldType = fieldMatch[1];
                    const fieldName = fieldMatch[2];
                    nestedClassDefaults[fieldName] = getDefaultValue(fieldType);
                }
            }
            return nestedClassDefaults;
        }
        function getListDefaultValue(type) {
            const defaultValue = getDefaultValue(type);
            if (Array.isArray(defaultValue)) return [defaultValue[0]];
            if (typeof defaultValue === 'object' && defaultValue !== null) return [defaultValue];
            return [];
        }
        function getMapDefaultValue(keyType, valueType) {
            const mapObject = {};
            if (/^[A-Z]/.test(valueType)) {
                const defaultObject = generateObjectDefaults(valueType);
                for (const field in defaultObject) {
                    mapObject[field] = defaultObject[field];
                }
            }
            return mapObject;
        }
        function convertPojoToJson() {
            let pojoText = document.getElementById('pojoInput').value.trim();
            if (!pojoText) {
                alert('Please enter a POJO class!');
                return;
            }
            pojoText = pojoText.replace(/import.*;/g, '').replace(/@.*\n/g, '').trim();
            const classNameMatch = pojoText.match(/class\s+(\w+)\s+/);
            if (!classNameMatch) {
                alert('Invalid POJO format');
                return;
            }
            const className = classNameMatch[1];
            const fieldRegex = /private\s+([a-zA-Z0-9<>,\s]+)\s+([a-zA-Z0-9]+);/g;
            const fields = [];
            let match;
            while ((match = fieldRegex.exec(pojoText)) !== null) {
                fields.push({ type: match[1].trim(), name: match[2] });
            }
            const jsonObject = {};
            fields.forEach(field => {
                jsonObject[field.name] = getDefaultValue(field.type);
            });
            document.getElementById('result').textContent = JSON.stringify(jsonObject, null, 4);
        }
    </script>
</body>
</html>
